@model PagedList.IPagedList<TestTaskMy.Models.Product>
@using PagedList.Mvc;
@{
    Layout = null;
}
<!DOCTYPE html>
<html>
<head>
    <title></title>
    <link href='@Url.Content("~/Content/themes/base/jquery-ui.css")' rel="stylesheet" type="text/css" />
    <link href="~/Content/PagedList.css" rel="stylesheet" type="text/css" />
    <link href='@Url.Content("~/Content/bootstrap.min.css")' rel="stylesheet" type="text/css" />
    @Scripts.Render("~/bundles/modernizr")
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body >
    <div class="container">
        <div  class="col-sm-12 col-xs-12 col-md-12 col-lg-12">
            <h2>ProductList</h2>

            <table class="table table-bordered table-responsive">
                <tr>
                    <th class="col-sm-6 col-xs-6 col-md-6 col-lg-6">

                        Product Name

                    </th>
                    <th class="col-sm-6 col-xs-6 col-md-6 col-lg-6">
                        Category Type
                    </th>

                </tr>

                @foreach (var item in Model)
                {
                    <tr>
                        <td class="col-sm-6 col-xs-6 col-md-6 col-lg-6">
                            @Html.DisplayFor(modelItem => item.Product_name)
                        </td>
                        <td class="col-sm-6 col-xs-6 col-md-6 col-lg-6">
                            @Html.DisplayFor(modelItem => item.Category_type.Name)
                        </td>
                    </tr>
                }


            </table>



            <p> @Html.ActionLink("Add", "Create", "Home", new { }, new { @class = "viewDialog", data_dialog_title = "Create" })</p>

            <br />


            Page @Model.PageNumber From @Model.PageCount

            @Html.PagedListPager(Model, page => Url.Action("ProductList", new { page }))
        </div>
    </div>




    <script src='@Url.Content("~/Scripts/jquery-3.3.1.min.js")' type="text/javascript"></script>
    <script src='@Url.Content("~/Scripts/jquery-ui-1.12.1.min.js")' type="text/javascript"></script>
    @Scripts.Render("~/bundles/bootstrap")
    <script>
        $(document).ready(function () {

            $(".viewDialog").on("click", function (e) {
                e.preventDefault();

                $("<div></div>")
                    .addClass("dialog")
                    .appendTo("body")
                    .dialog({
                        title: $(this).attr("data-dialog-title"),
                        close: function () { $(this).remove() },
                        modal: true
                    })
                    .load(this.href);
            });
        });
    </script>
</body>
</html>